<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>50x50 Invertible Buttons</title>
  <style>
    :root{
      --cols: 50;
      --rows: 50;
      --cell-w: calc(100vw / var(--cols));
      --cell-h: calc(100vh / var(--rows));
    }
    html,body{height:100%;margin:0;}
    .grid{
      display:grid;
      grid-template-columns: repeat(var(--cols), var(--cell-w));
      grid-auto-rows: var(--cell-h);
      width:100vw;
      height:100vh;
    }
    .grid button{
      appearance:none;
      -webkit-appearance:none;
      border:1px solid #ddd;
      background: white;
      color: black;
      padding:0;
      margin:0;
      width:100%;
      height:100%;
      box-sizing:border-box;
      cursor:pointer;
      font:inherit;
    }
    .grid button.active{
      background: black;
      color: white;
    }
    .grid button:focus{outline:2px solid #06f; outline-offset:-2px;}
    body{touch-action: manipulation; user-select: none;}
  </style>
</head>
<body>
  <div class="grid" id="grid" aria-label="50 by 50 button grid"></div>

  <script>
    (function(){
      const cols = 50, rows = 50;
      const container = document.getElementById('grid');
      const frag = document.createDocumentFragment();
      for(let i=0;i<cols*rows;i++){
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'cell';
        btn.setAttribute('aria-pressed','false');
        frag.appendChild(btn);
      }
      container.appendChild(frag);

      // Event delegation: toggle class and aria-pressed
      container.addEventListener('click', (e)=>{
        const t = e.target;
        if (t && t.tagName === 'BUTTON'){
          const active = t.classList.toggle('active');
          t.setAttribute('aria-pressed', active ? 'true' : 'false');
        }
      });
    })();
  </script>
</body>
</html>
